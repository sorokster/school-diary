<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ subject.name }} Lessons</title>
</head>
<body>
    <h1>Add a new {{ subject.name }} lesson</h1>
    <form action="/teacher/lessons/" method="POST">
        {% csrf_token %}
        <p>
            <label for="name">
                Name:
                <input type="text" name="name" id="name" required>
            </label>
        </p>
        <p>
            <label for="description">
                Description:
                <input type="text" name="description" id="description" required>
            </label>
        </p>
        <p>
            <label for="classes">
                Classes:
                <select name="class" id="classes">
                    {% for class in classes %}
                        <option value="{{ class.id }}">{{ class.name }}</option>
                    {% endfor %}
                </select>
            </label>
        </p>
        <p>
            <label for="subjects">
                Subjects:
                <select name="subject" id="subjects" multiple>
                    {% for subject in subjects %}
                        <option value="{{ subject.id }}">{{ subject.name }}</option>
                    {% endfor %}
                </select>
            </label>
        </p>
        <p>
            <label for="room">
                Room:
                <select name="room" id="room">
                    {% for room in rooms %}
                        <option value="{{ room.id }}">{{ room.number }}</option>
                    {% endfor %}
                </select>
            </label>
        </p>
        <p>
            <label for="date">
                Date:
                <input type="date" name="date" id="date">
            </label>
        </p>
        <input type="submit" value="Add">
    </form>

    <h2>Lessons:</h2>
    {% if lessons %}
        <table>
            <thead>
                <tr>
                    <td>Name</td>
                    <td>Description</td>
                    <td>Room number</td>
                    <td>Date</td>
                </tr>
            </thead>
            <tbody>
            {% for lesson in lessons %}
                <tr>
                    <td><a href="/teacher/lessons/{{ lesson.id }}/">{{ lesson.name }}</a></td>
                    <td>{{ lesson.description }}</td>
                    <td><a href="/teacher/rooms/{{ lesson.room.id }}">{{ lesson.room.number }}</a></td>
                    <td>{{ lesson.date }}</td>
            {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No subjects found</p>
    {% endif %}
</body>
</html>